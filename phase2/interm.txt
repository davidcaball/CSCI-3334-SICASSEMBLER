0x3e8    0xA1    COPY    START   1000		COPY FILE FROM INPUT TO OUTPUT
0x3e8    0x14    FIRST   STL     RETADR		SAVE RETURN ADDRESS
0x3eb    0x48    CLOOP   JSUB    RDREC		READ INPUT RECORD
0x3ee    0x00    	LDA	LENGTH		TEST FOR EOF (LENGTH = 0)
0x3f1    0x28    	COMP    ZERO
0x3f4    0x30    	JEQ     ENDFIL		EXIT IF EOF FOUND
0x3f7    0x48    	JSUB	WRREC		WRITE OUTPUT RECORD
0x3fa    0x3C    	J       CLOOP		LOOP
0x3fd    0x00    ENDFIL  LDA     EOF		INSERT END OF FILE MARKER
0x400    0x0C    	STA     BUFFER
0x403    0x00    	LDA     THREE		SET LENGTH = 3
0x406    0x0C    	STA     LENGTH
0x409    0x48    	JSUB    WRREC		WRITE EOF
0x40c    0x08    	LDL     RETADR		GET RETURN ADDRESS
0x40f    0x4C    	RSUB             	RETURN TO CALLER
0x412    0xA3    EOF     BYTE    C'EOF'
0x413    0xA4    THREEdfdfd   WORD    3
0x416    0xA4    ZERO    WORD    0
0x419    0xA6    RETADR  RESW    1
0x41c    0xA6    LENGTH  RESW    1		LENGTH OF RECORD
0x41f    0xA5    BUFFER  RESB    4096		4096-BYTE BUFFER AREA
         .
         .	SUBROUTINE TO READ RECORD INTO BUFFER
         .
0x141f    0x04    RDREC   LDX     ZERO		CLEAR LOOP COUNTER
0x1422    0x00    	LDA     ZERO		CLEAR A TO ZERO
0x1425    0xE0    RLOOP   TD      INPUT		TEST INPUT DEVICE
0x1428    0x30    	JEQ     RLOOP		LOOP UNTIL READY
0x142b    0xD8    	RD      INPUT		READ CHARACTER INTO REGISTAR A
0x142e    0x28    	COMP    ZERO		TEST FOR END OF RECORD (X'00')
0x1431    0x30    	JEQ     EXIT		EXIT LOOP IF EOF
0x1434    0x54    	STCH    BUFFER,X	STORE CHARCTER IN BUFFER
0x1437    0x2C    	TIX     MAXLEN		LOOP UNLESS MAX LENGTH
0x143a    0x38    	JLT     RLOOP	  	  HAS BEEN REACHED
0x143d    0x10    EXIT    STX     LENGTH		SAVE RECORD LENGTH
0x1440    0x4C    	RSUB                    RETURN TO CALLER
0x1443    0xA3    INPUT   BYTE    X'F1'		CODE FOR INPUT DEVICE
0x1444    0xA4    MAXLEN	WORD	4096
         .
         .	SUBROUTINE TO WRITE RECORD FROM BUFFER
         .
0x1447    0x04    WRREC   LDX    ZERO		CLEAR LOOP COUNTER
0x144a    0xE0    WLOOP   TD     OUTPUT		TEST OUTPUT DEVICE
0x144d    0x30    	JEQ    WLOOP		LOOP UNTIL READY
0x1450    0x50    	LDCH   BUFFER,X	        GET CHARCTER FROM BUFFER
0x1453    0xDC    	WD     OUTPUT		WRITE CHARACTER
0x1456    0x2C    	TIX    LENGTH		LOOP UNTIL ALL CHARACTERS
0x1459    0x38    	JLT    WLOOP	  	  HAVE BEEN WRITTEN
0x145c    0x4C    	RSUB                    RETURN TO CALLER
0x145f    0xA3    OUTPUT  BYTE   X'05'		CODE FOR OUTPUT DEVICE
0x1460    0xA2    	END    FIRST


ERRORS
16 1
